---
title: 更新日志
date: 2023-05-31 23:19:06
permalink: /pages/bbdaf6/
---

## v2.0.0(2023-07-10)
1. 修复回调任务执行到达最大次数后重复新建回调任务【BUG】

## v2.0.0(2023-07-01)
1. 添加局部保存的提示 【**新增**】[PR](https://gitee.com/aizuda/easy-retry/pulls/7)
2. pod列表页新增消费组显示 【**新增**】
3. 优化IdempotentIdContext注释、手动生成幂等号改为IdempotentIdContext传参【优化】[PR](https://gitee.com/aizuda/easy-retry/pulls/6)
4. 移除重复的ThreadLocal赋值动作 【优化】[PR](https://gitee.com/aizuda/easy-retry/pulls/4)
5. 优化请求客户端的日志信息 【优化】
6. 组配置校验分区时，验证对应的表是否存在 【**新增**】
7. 修复新增组配置，分区为0校验异常 【BUG】
8. POD查询新增过期时间过滤 【**新增**】
9. 优化本地重试注解中的exclude和include，配置了仍然执行了2次重试 【BUG】
10. 新增调用客户端代理类【**新增**】
11. 新增下线路由剔除功能【**新增**】
12. 新增路由转移功能 【**新增**】
13. 添加启动logo 【**新增**】
14. 优化表定义 【优化】
15. 看板查询失败问题 【BUG】
16. 优化详情页查询 【优化】
17. 去除回调重试流量标识【优化】
18. 优化日志存储逻辑【优化】
19. 新增日志过期策略配置 【**新增**】
20. 新增定时清除日志功能 【**新增**】
21. 优化看板页面日志的查询统计【优化】
22. 新增日志详情页查询调度日志列表 【**新增**】
23. 优化详情页查询 【优化】
24. 修复不同组相同场景添加失败问题 
25. 优化任务详情页，重试日志只显示当前场景 
26. 后端二次校验分区数 【优化】
27. 修复回滚主键冲突问题 【BUG】
28. 新增ReBalanceFilterStrategies过滤【**新增**】
29. 新增pod列表查询【**新增**】
30. 优化路由注册 【**新增**】
31. 重构组ReBalance逻辑【**新增**】
32. 优化客户端和服务端注册逻辑 【**新增**】
33. 优化配置同步逻辑 【**新增**】
34. 添加初始化时指定数据库的逻辑【**新增**】[PR](https://gitee.com/aizuda/easy-retry/pulls/1)
### 表字段变更明细
|序号|表名|字段|操作|描述|
|-|-|-|-|-|
|1|retry_task_log|update_dt|**删除**|更新时间|
|2|retry_task_log|error_message|**删除**|异常信息|
|2|retry_task_log|idx_create_dt|新增索引||
|3|scene_config|uk_name|**变更索引uk_group_name_scene_name**|group_name、scene_name联合索引|
|4|server_node|ext_attrs|**新增**|扩展字段|
|5|server_node|idx_expire_at_node_type|**新增索引**||
|6|retry_task_log_message||**新增表**|任务调度日志信息记录表|

## v1.5.1(2023-06-15)
1. 修复本地重试服务间传递头节点丢失问题
2. 优化DDL模式下接口调用入口时间没有刷新问题


## v1.5.0(2023-06-10)
1. 优化了场景配置提示信息[issues-I7AAC1](https://gitee.com/aizuda/easy-retry/issues/I7AAC1)【**新增**】
2. 修复远程重试次数日志打印错误问题【BUG】
3. 优化了初始化场景默认执行21次，任务停留3天【优化】
4. 回调支持持久化【**新增**】
5. 迁移了部分枚举到服务端模块
6. 页面新增数据类型展示并【**新增**】
7. 优化状态的显示样式【优化】
8. 新增本地重试添加重试流量标识[issues-I7BCNI](https://gitee.com/aizuda/easy-retry/issues/I7BCNI)【**新增**】
9. 在线机器最好支持查看详情[issues-I7B4XK](https://gitee.com/aizuda/easy-retry/issues/I7B4XK)【**新增**】
10. 优化部分代码描述和类名【优化】
11. **注意: sql文件有变更**
> 特别感谢[moyu](https://gitee.com/moyucoder)、[zhangyutongxue](https://gitee.com/zhangyutongxue)两位小伙伴给予的宝贵建议和支持

## v1.4.0(2023-06-01)
1. 新增飞书告警【新增】
2. 优化场景和通知的列表支持横向滑动【新增】
3. 限制固定间隔和随机间隔两个退避策略的间隔时间不能小于10秒【优化】
4. 支持上报数据无场景时,自动初始化场景【新增】
5. 优化RetryAspect不开启重试时日志模糊问题【优化】
6. 优化Easy-Retry版本版本获取方式【优化】

## v1.3.0(2023-05-18)

1. 新增手动创建任务并上传服务端功能【新增】
2. 重构客户端请求服务端模块【更新】
3. 新增同步请求服务端功能【新增】
4. 使用策略模型重构上报模块【更新】
5. 限定创建组和场景仅支持字母数字和下划线【更新】
6. 优化reqId使用AtomicLong作为请求id【更新】
7. 优化部分代码描述和类名【更新】
8. 降低akka版本为 2.6.20【更新】

## v1.2.0(2023-05-09)

1. bizId变更为idempotent_id【新增】
2. 新增unique_id用于标识重试数据【新增】
3. 新增unique_id的生成模式分别支持号段模式(美团leaf的号段模式算法)、雪花算法两种模式【新增】
4. 管理系统登录页新增版本号【新增】
5. 重试详情页，新增通过唯一id查询日志列表【新增】
6. 修改页头页底内容【新增】
7. 修复登录密码校验问题【BUG】
8. 使用mapstruct 替代通过反射进行对象属性装换【更新】
9. 优化部分代码【更新】
10. 注意: 本地sql文件有变更

## v1.1.0(2023-05-03)

1. RetryAspect添加Ordered，支持动态调整Aop执行顺序【新增】
2. 手动添加重试任务【新增】
3. 更新核心字段描述【更新】
4. 更新类名定义【更新】
5. 删除重试retry_task_x的biz_id唯一键索引【删除】
6. 新增批量删除重试任务数据【新增】
7. 新增批量修改重试任务状态和执行器能力【新增】
8. 修复管理界面日期显示问题【BUG】
9. 停止策略改为责任链模式【更新】

## v1.0.0
发布第一版
