---
title: 核心功能配置
date: 2022-03-18 15:02:52
permalink: /pages/bef6e8/
article: false
---

## 组配置
通过`新建`按钮配置点开配置组、场景、通知界面
![group_list.png](../../.vuepress/public/img/group_list.png)

### 组配置
每个系统对应一个组，服务端通过一致性hash环来分配当前已启用的Group在集群中哪节点上消费

- 组名称: 名称是数字、字母、下划线组合，最长64个字符长度
- 状态: 开启/关闭, 通过状态开启或关闭组状态
- 路由策略: 随机算法、一致性hash算法、最近最久未使用算法
- 描述: 对组进行描述
- 指定分区: 不指定则系统随机分区，指定则使用指定的分区

![goup_config.png](../../.vuepress/public/img/goup_config.png)

### 场景配置
场景负责管理收集重试现场的数据，比如 方法名、参数、类等信息; 对照代码 中可以理解为需要重试的方法;
每个业务服务对应N个场景值，即系统配置的最小单位。

- 场景名称: 名称是数字、字母、下划线组合，最长64个字符长度
- 场景状态: 开启/关闭, 通过状态开启或关闭场合状态
- 退避策略: 延迟等级、固定时间、CRON表达式、随机等待
- 最大重试次数: 重试上限值
- 描述: 对场景进行描述
- 操作: 新增-添加场景配置、删除-未提交则删除临时场景配置，已提交则删除数据库中的场景配置

![scene_config.png](../../.vuepress/public/img/scene_config.png)

### 通知配置
及时告知系统管理人员，系统运行状态，如出现大量重试的数据、或者大量重试失败的数据

- 通知类型: 钉钉通知、邮箱通知、企业微信通知
- 通知场景:
    - 重试数量超过阈值: 作用于服务端，重试中的数量到达阈值发送通知
    - 重试失败数量超过阈值: 作用于服务端，达到最大重试次数的数量到达阈值发送通知
    - 客户端上报失败: 作用于客户端，上报数据失败 发送 通知
    - 客户端组件异常: 作用于客户端，重试组件内部异常，发送通知
- 通知阈值: 到达阈值发送通知
- 通知地址: 发送通知的地址
- 描述: 对通知进行描述
- 操作: 新增-添加场景配置、删除-未提交则删除临时通知配置，已提交则删除数据库中的通知配置

![notify_config.png](../../.vuepress/public/img/notify_config.png)
