---
title:  Spi扩展点
date: 2023-08-29 14:17:55
permalink: /pages/02df76/
---

# 【监听器】 EasyRetryListener
> 完整代码: 
## 实现接口EasyRetryListener
```java
@Slf4j
public class MyEasyRetryListener implements EasyRetryListener {

    @Override
    public void beforeRetry(final String sceneName, final String executorClassName, final Object[] params) {
        log.info("------> beforeRetry sceneName:[{}] executorClassName:[{}] params:[{}]",
            sceneName, executorClassName, JsonUtil.toJsonString(params));
    }

    @Override
    public void successOnRetry(final Object result, final String sceneName, final String executorClassName) {
        log.info("------> successOnRetry sceneName:[{}] executorClassName:[{}] result:[{}]",
            sceneName, executorClassName, JsonUtil.toJsonString(result));
    }

    @Override
    public void failureOnRetry(final String sceneName, final String executorClassName, final Throwable e) {
        log.info("------> failureOnRetry sceneName:[{}] executorClassName:[{}]", sceneName, executorClassName, e);
    }
}

```
## 注册MyEasyRetryListener

- 添加目录META-INFO/services
- 添加文件com.aizuda.easy.retry.client.core.event.EasyRetryListener
- 在上述文件新增一行记录为com.maluxinyu.easyretry.spi.MyEasyRetryListener
**执行的顺序按照文件中的每行的先后顺序**

# 【参数序列】 RetryArgSerializer
> 完整代码:

## 实现接口RetryArgSerializer
参考HessianSerializer

## 注册RetryArgSerializer

- 添加目录META-INFO/services
- 添加文件com.aizuda.easy.retry.client.core.RetryArgSerializer
- 在上述文件新增一行记录为com.aizuda.easy.retry.client.core.serializer.HessianSerializer
若存在多条记录则取第一条
