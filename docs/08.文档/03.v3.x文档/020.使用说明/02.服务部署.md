---
title: 服务部署
date: 2023-07-06 19:02:54
permalink: /pages/v3.x/406a66/
---

## <EasyRetryIcon iconType='icon-shipin' /> 视频教程
[从0到1快速了解分布式重试组件EasyRetry -【安装部署】](https://www.ixigua.com/i7270180938343154213/)

## 配置部署服务端调度平台
### 初始化数据库
数据库脚本位置
```
# mysql、mariadb
doc/sql/easy_retry_mysql.sql
# postgres
doc/sql/easy_retry_postgre.sql
# sqlserver
doc/sql/easy_retry_sqlserver.sql
# oracle
doc/sql/easy_retry_oracle.sql
```

### 系统配置

<code-group>
  <code-block title="mysql 数据源" active>

```yaml
# 配置数据源
spring:
  datasource:
    name: easy_retry
    url:  jdbc:mysql://localhost:3306/easy_retry?useSSL=false&characterEncoding=utf8&useUnicode=true
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver
    ....其他配置信息....
```
  </code-block>

  <code-block title="mariadb 数据源">

```yaml
# 配置数据源
spring:
  datasource:
    name: easy_retry
    url: jdbc:mariadb://localhost:3308/easy_retry
    username: root
    password: root
    driver-class-name: org.mariadb.jdbc.Driver
  # ....其他配置信息....
```
  </code-block>
<code-block title="postgres 数据源">

```yaml
# 配置数据源
spring:
  datasource:
    name: easy_retry
    url: jdbc:postgresql://localhost:5432/easy_retry
    username: postgres
    password: root
    driver-class-name: org.postgresql.Driver
   #....其他配置信息....
```
  </code-block>

<code-block title="sqlserver 数据源">

```yaml
# 配置数据源
spring:
  datasource:
    name: easy_retry
    url: jdbc:sqlserver://localhost:1433;DatabaseName=easy_retry;SelectMethod=cursor;encrypt=false;rewriteBatchedStatements=true
    username: SA
    password: EasyRetry@24
    driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver
   #....其他配置信息....
```
  </code-block>

<code-block title="oracle 数据源">

```yaml
# 配置数据源
spring:
  datasource:
    name: easy_retry
    url: jdbc:oracle:thin:@//localhost:1521/XEPDB1
    username: easy_retry
    password: EasyRetry
    driver-class-name: oracle.jdbc.OracleDriver
   #....其他配置信息....
```
  </code-block>
</code-group>


## 项目部署
### 下载源码部署
- 下载源码
  ```
   https://gitee.com/aizuda/easy-retry.git
   或
   https://github.com/aizuda/easy-retry.git
  ```

- maven 打包镜像
```
maven clean install
```

- 修改配置
```
/easy-retry-server/src/main/resources/application.yml
```

- 启动
```
java -jar easy-retry-server.jar
```

### docker 部署
- 下载镜像
```
docker pull byteblogs/easy-retry:{Latest Version}
```

- 创建容器并运行
::: warning 🌈特别说明
如需自定义 mysql 等配置，可通过 "-e PARAMS" 指定，参数格式 PARAMS="--key1=value1  --key2=value2" ；
配置项参考文件：/easy-retry-server/src/main/resources/application.yml
如需自定义 JVM内存参数 等配置，可通过 "-e JAVA_OPTS" 指定，参数格式 JAVA_OPTS="-Xmx512m" ；
:::

<code-group>
  <code-block title="mysql 数据源" active>

``` shell
docker run  -e PARAMS="--spring.datasource.username=root --spring.datasource.password=root  --spring.datasource.url=jdbc:mysql://IP:3306/easy_retry?useUnicode=true&characterEncoding=UTF-8&autoReconnect=true&serverTimezone=Asia/Shanghai --spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver" -p 8080:8080 -p 1788:1788 --name easy-retry-server-mysql -d byteblogs/easy-retry:{Latest Version}
```
  </code-block>

  <code-block title="mariadb 数据源">

```shell
docker run  -e PARAMS="--spring.datasource.username=root --spring.datasource.password=root  --spring.datasource.url=jdbc:mariadb://IP:3307/easy_retry --spring.datasource.driver-class-name=org.mariadb.jdbc.Driver" -p 8080:8080 -p 1788:1788 --name easy-retry-server-mariadb -d byteblogs/easy-retry:{Latest Version}
```
  </code-block>

  <code-block title="postgres 数据源">

```shell
docker run  -e PARAMS="--spring.datasource.username=postgres --spring.datasource.password=root  --spring.datasource.url=jdbc:postgresql://IP:5432/easy_retry --spring.datasource.driver-class-name= org.postgresql.Driver" -p 8080:8080 -p 1788:1788 --name easy-retry-server-postgres -d byteblogs/easy-retry{Latest Version}
```
  </code-block>
<code-block title="sqlserver 数据源">

```shell
docker run  -e PARAMS="--spring.datasource.username=SA --spring.datasource.password=EasyRetry@24  --spring.datasource.url=jdbc:sqlserver://IP:1433;DatabaseName=easy_retry;SelectMethod=cursor;encrypt=false;rewriteBatchedStatements=true --spring.datasource.driver-class-name= com.microsoft.sqlserver.jdbc.SQLServerDriver" -p 8080:8080 -p 1788:1788 --name easy-retry-server-sqlserver -d byteblogs/easy-retry{Latest Version}
```
  </code-block>
<code-block title="oracle 数据源">

```shell
docker run  -e PARAMS="--spring.datasource.username=easy_retry --spring.datasource.password=EasyRetry  --spring.datasource.url=jdbc:oracle:thin:@//IP:1521/XEPDB1 --spring.datasource.driver-class-name=oracle.jdbc.OracleDriver" -p 8080:8080 -p 1788:1788 --name easy-retry-server-oracle -d byteblogs/easy-retry{Latest Version}
```
  </code-block>

</code-group>


如果你已经正确启动系统了，那么你可以输入以下地址就可以进入管理系统了
```
http://localhost:8080/easy-retry

用户名: admin
密码: admin
```

## [帮助我们改善此页面](https://gitee.com/aizuda/easy-retry-docs/blob/master/docs/01.%E6%8C%87%E5%8D%97/01.%E6%8C%87%E5%8D%97/02.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B.md)
