---
title: 任务管理
date: 2023-07-30 11:11:20
permalink: /pages/b74542/
---

## 如何获取日志信息？

通过以下日志检索出对应的日志信息，其中包含<|>.....<|>
将<|>.....<|>内容输入在日志信息输入框中

<code-group>
  <code-block title="客户端日志检索条件" active>

```
客户端日志检索条件:
info: Batch asynchronous reporting
error: Data report failed.
```
  </code-block>

  <code-block title="服务端日志检索条件">

```
服务端日志检索条件:
info: begin handler report data.
error: Batch Report Retry Data Error.
```
  </code-block>
</code-group>

服务端根据日志查询并导入的案例:
1. 查询日志信息
```
2023-07-30 22:04:15.546 [NETTY_ACTOR_SYSTEM-akka.actor.default-dispatcher-10] INFO  com.aizuda.easy.retry.server.server.handler.ReportRetryInfoHttpRequestHandler - begin handler report data. <|>[{"groupName":"easy_retry_demo_group_006","sceneName":"remoteRetrySync","idempotentId":"3088abab8ca5b6fa0e43b8e34dbda56e","executorName":"com.maluxinyu.easyretry.service.RemoteRetryService","bizNo":"","argsStr":"[\"测试通过日志批量上报1\"]"}]<|>
```
2. 在控制台点击批量新增按钮，在弹框内输入响应的数据
<img :src="$withBase('/img/parselogsavetaskdata.png')" class="no-zoom" style="zoom: 100%;">

3. 查询数据
<img :src="$withBase('/img/parselogsavetaskdetail.png')" class="no-zoom" style="zoom: 100%;">

::: warning 🌈特别说明
1. 若日志信息内的groupName与选择的组名称不相同则保存失败
:::

## 业务编号(bizNo)
用于标识具有业务特点的值, 比如订单号、物流编号等，可以根据具体的业务场景生成，生成规则采用通用成熟的Spel表达式进行解析

## 幂等id(idempotentId)
同一个组的同一个场景下只会存在一个相同的idempotentId并且状态为'重试中'的任务, 若存在相同的则上报服务后会被幂等处理
比如:

- 组: AGroup
- 场景: BScene
- 时刻1: 上报一个异常 idempotentId: A1 状态为重试中
- 时刻2: 上报一个异常 idempotentId: A2 状态为重试中，可以上报成功，此时存在两个重试任务
- 时刻3: 上报一个异常 idempotentId: A1 不会新增一个重试任务，会被幂等处理
- 时刻4:  idempotentId: A1 重试完成, 状态为已完成
- 时刻5: 上报一个异常 idempotentId: A1 状态为重试中, 新增一条重试任务